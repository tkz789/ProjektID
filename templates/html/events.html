{% extends "html/index.html" %}
{% block title %}Posty społeczności{% endblock %}
{% block body %}

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}
    <h1>Available Editions</h1>
    
    <h2>Current and Upcoming Editions</h2>
    {% if current_future_editions %}
      <ul>
        {% for edition in current_future_editions %}
          <li>
            <form action="{{ url_for('events') }}" method="get">
              <input type="hidden" name="edition_id" value="{{ edition[0] }}">
              <button type="submit">{{ edition[1] }} (Edition {{ edition[0] }}): {{ edition[2] }} to {{ edition[3] }}</button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No current or upcoming editions available.</p>
    {% endif %}
    
    <h2>Past Editions</h2>
    {% if past_editions %}
      <ul>
        {% for edition in past_editions %}
          <li>
            <form action="{{ url_for('events') }}" method="get">
              <input type="hidden" name="edition_id" value="{{ edition[0] }}">
              <button type="submit">{{ edition[1] }} (Edition {{ edition[0] }}): {{ edition[2] }} to {{ edition[3] }}</button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No past editions available.</p>
    {% endif %}
</div>
<a class="btn" href="{{ url_for('home') }}">Powrót</a>
{% endblock %}